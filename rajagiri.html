<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rajagiri - ICSWHMH 2027</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Montserrat:wght@900&display=swap"
        rel="stylesheet">
    <!-- Navbar/Footer Scripts -->
    <script src="navbar.js" defer></script>
    <script src="footer.js" defer></script>
    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollToPlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <style>
        /* Base Page Styles */
        body,
        html {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            background: #ffffff;
            /* White background */
            font-family: 'Outfit', sans-serif;
        }

        /* Scoped Parallax Styles */
        .parallax-wrapper {
            position: relative;
            width: 100%;
        }

        .parallax-main {
            position: fixed;
            background: #fff;
            width: 100%;
            /* Full width */
            max-width: none;
            /* Remove max-width */
            height: 100vh;
            /* Full height */
            top: 0;
            /* Start from top */
            left: 0;
            /* Start from left */
            transform: none;
            /* Remove center transform */
            z-index: 1;
        }

        @media (max-width: 768px) {
            .parallax-main {
                top: 0;
                height: 100vh;
            }
        }

        .scrollDist {
            width: 100%;
            height: 200vh;
            position: relative;
            z-index: 0;
        }

        /* SVG Internal Styles */
        svg {
            width: 100%;
            height: 100%;
        }

        /* Footer positioning */
        main-footer {
            position: relative;
            z-index: 10;
            margin-top: 100vh;
            display: block;
            background: #fdfbf7;
        }
    </style>
</head>

<body>

    <floating-navbar transparent></floating-navbar>

    <div class="parallax-wrapper">
        <div class="scrollDist"></div>

        <div class="parallax-main">
            <svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice">
                <mask id="m">
                    <g class="cloud1">
                        <rect fill="#fff" width="100%" height="801" y="799" />
                        <image xlink:href="https://assets.codepen.io/721952/cloud1Mask.jpg" width="1200" height="800" />
                    </g>
                </mask>

                <image class="sky" xlink:href="https://assets.codepen.io/721952/sky.jpg" width="1200" height="590" />
                <image class="mountBg" xlink:href="https://assets.codepen.io/721952/mountBg.png" width="1200"
                    height="800" />
                <image class="mountMg" xlink:href="https://assets.codepen.io/721952/mountMg.png" width="1200"
                    height="800" />
                <image class="cloud2" xlink:href="https://assets.codepen.io/721952/cloud2.png" width="1200"
                    height="800" />
                <image class="mountFg" xlink:href="https://assets.codepen.io/721952/mountFg.png" width="1200"
                    height="800" />
                <image class="cloud1" xlink:href="https://assets.codepen.io/721952/cloud1.png" width="1200"
                    height="800" />
                <image class="cloud3" xlink:href="https://assets.codepen.io/721952/cloud3.png" width="1200"
                    height="800" />

                <text fill="#fff" x="350" y="200"
                    style="font-family: 'Montserrat', sans-serif; font-size: 99px; font-weight: 900;">EXPLORE</text>

                <polyline class="arrow" fill="#fff"
                    points="599,250 599,289 590,279 590,282 600,292 610,282 610,279 601,289 601,250" />

                <g mask="url(#m)">
                    <rect fill="#fff" width="100%" height="100%" />
                    <text x="350" y="200" fill="#162a43"
                        style="font-family: 'Montserrat', sans-serif; font-size: 99px; font-weight: 900;">FURTHER</text>
                </g>

                <rect id="arrow-btn" width="100" height="100" opacity="0" x="550" y="220" style="cursor:pointer" />
            </svg>
        </div>
    </div>

    <!-- Content below parallax? The scrollDist is 200vh. 
         Ideally, after 200vh of scrolling, the footer should appear.
         Since .parallax-main is fixed, we need to make sure the footer can come over it or sit below.
         We'll wrap the footer in a container that has high z-index and sits after scrollDist.
    -->
    <div style="position: relative; z-index: 20; background: #fff;">
        <!-- Placeholder for 'images and content later' -->
        <!-- Footer -->
        <main-footer></main-footer>
    </div>

    <script>
        // Register ScrollTrigger
        gsap.registerPlugin(ScrollTrigger, ScrollToPlugin);

        // Parallax Animation
        gsap.timeline({
            scrollTrigger: {
                trigger: '.scrollDist',
                start: '0 0',
                end: '100% 100%',
                scrub: 1
            }
        })
            .fromTo('.sky', { y: 0 }, { y: -200 }, 0)
            .fromTo('.cloud1', { y: 100 }, { y: -800 }, 0)
            .fromTo('.cloud2', { y: -150 }, { y: -500 }, 0)
            .fromTo('.cloud3', { y: -50 }, { y: -650 }, 0)
            .fromTo('.mountBg', { y: -10 }, { y: -100 }, 0)
            .fromTo('.mountMg', { y: -30 }, { y: -250 }, 0)
            .fromTo('.mountFg', { y: -50 }, { y: -600 }, 0);

        // Arrow Interaction
        const arrowBtn = document.querySelector('#arrow-btn');

        if (arrowBtn) {
            arrowBtn.addEventListener('mouseenter', () => {
                gsap.to('.arrow', { y: 10, duration: 0.8, ease: 'back.inOut(3)', overwrite: 'auto' });
            });

            arrowBtn.addEventListener('mouseleave', () => {
                gsap.to('.arrow', { y: 0, duration: 0.5, ease: 'power3.out', overwrite: 'auto' });
            });

            arrowBtn.addEventListener('click', () => {
                gsap.to(window, { scrollTo: window.innerHeight, duration: 1.5, ease: 'power1.inOut' });
            });
        }
    </script>
</body>

</html>